local a,b;local function c()local d,e=pcall(function()a=loadstring(game:HttpGet('https://sirius.menu/rayfield',true))()end)if not d then warn("Rayfield loading error:",e)return false end;return true end;if not c()then return end;local d,f=pcall(function()return game:HttpGet("https://raw.githubusercontent.com/chstopya090712-wq/Keys/refs/heads/main/Keys.lua")end)local g={}if d then for h in f:gmatch("[^\r\n]+")do local i=h:gsub("%s+","")if i~=""then table.insert(g,i)end end;print("Ключи успешно загружены. Количество:",#g)else warn("Ошибка подключения к GitHub: "..tostring(f))g={"BACKUP_KEY_ERROR"}end;b=a:CreateWindow({Name="blockaded battlefront",LoadingTitle="Initializing system...",LoadingSubtitle="Version 1",ConfigurationSaving={Enabled=true,FolderName="blockaded battlefrontConfig",FileName="Settings"},KeySystem=true,KeySettings={Title="KeySystem",Subtitle="Введите ваш ключ",Note="Ключ можно получить в нашем Discord/Telegram",FileName="BB_Key_System_V1",SaveKey=true,GrabKeyFromSite=false,Key=g}})local j=game:GetService("Players")local k=j.LocalPlayer;local l=game:GetService("RunService")local m=game:GetService("ReplicatedStorage")local n=game:GetService("Workspace")local o=game:GetService("Lighting")local function p()local q=Instance.new("Part")q.Name="InvisiblePart"q.Size=Vector3.new(1300.4530029296875,0.05900000408291817,1300.70703125)q.CFrame=CFrame.new(-19.9382629,0.184179679,-2.24523926,1,0,0,0,1,0,0,0,1)q.Anchored=true;q.CanCollide=false;q.Transparency=1;q.Parent=n end;p()local r={TotalAttacks=0,Active=false,CurrentTarget=nil,LastAction="Ready",AttackCooldown=0,Invincible=false,AttackSpeed=0.1,MoveSpeed=50,NoTargetTime=0,CurrentMode="zombie",MaxHpLimit=300,AutoHealEnabled=false,HealPart=nil,LowHpThreshold=50,AutoBuyHealth=false,AutoTeleportToShop=false,RadiantEventName="",AutoVoteEnabled=false,VoteMode="Normal",TargetPriority="LowestHP",AttackHeight=6,ShopActionDelay=1,CircularFlightEnabled=false,CircularFlightSpeed=60}local s={WasEnabled=false}local t={Active=false,Conn=nil,CurrentPoint=1,Points={Vector3.new(493.56573486328125,395.08209228515625,-520.0994262695312),Vector3.new(482.989501953125,395.9943542480469,425.8323669433594),Vector3.new(-674.6990966796875,395.39581298828125,439.9954833984375),Vector3.new(-676.624755859375,395.0023193359375,-547.8704223632812),Vector3.new(493.56573486328125,285.144933700561523,-520.0994262695312),Vector3.new(482.989501953125,285.144933700561523,425.8323669433594),Vector3.new(-674.6990966796875,285.144933700561523,439.9954833984375),Vector3.new(-676.624755859375,285.144933700561523,-547.8704223632812)},LastMoveTime=0}local u={zombie={name="Zombie Mode",maxHealth=math.huge},normal={name="Normal Mode",maxHealth=5000}}local v=b:CreateTab("Control")local w=b:CreateTab("Farming")local x=b:CreateTab("Shop")local y=b:CreateTab("ESP")local z=b:CreateTab("Visual")local A=b:CreateTab("Teleport")local B=b:CreateTab("Settings")local C=b:CreateTab("Statistics")local D=C:CreateLabel("Attacks: 0")local E=C:CreateLabel("Status: Inactive")local F=C:CreateLabel("Target: None")local G=C:CreateLabel("Last action: "..r.LastAction)local H=C:CreateLabel("Mode: "..u[r.CurrentMode].name)local I=C:CreateLabel("Auto-heal: Disabled")local J=C:CreateLabel("Wave: Loading...")local K=C:CreateLabel("Circular flight: Disabled")local L={AttackSpeedSlider=nil,MoveSpeedSlider=nil,LowHpSlider=nil,MaxHpSlider=nil,AttackHeightSlider=nil}local function M()local N=n:FindFirstChild("Wave")if N and N:IsA("NumberValue")then J:Set("Wave: "..N.Value)else J:Set("Wave: Not found")end end;l.Heartbeat:Connect(function()if time()%2<0.1 then M()end end)local function O(P,Q)pcall(function()a:Notify({Title=P,Content=Q,Duration=6})end)r.LastAction=Q;G:Set("Last action: "..Q)end;local function R()local S=k.Character;if not S then return false end;local T=n:FindFirstChild("Living")if not T then return false end;for U,V in ipairs(T:GetChildren())do if V==S then return true end end;return false end;local function W()local S=k.Character;if not S then return false end;if S.Parent==n then return true end;return R()end;local function X(Y)if Y then if t.Active then return end;t.Active=true;r.CircularFlightEnabled=true;t.CurrentPoint=math.clamp(t.CurrentPoint or 1,1,#t.Points)local Z=2;if t.Conn then t.Conn:Disconnect()t.Conn=nil end;t.Conn=l.Heartbeat:Connect(function(_)if not t.Active then return end;local S=k.Character;if not S or not R()then return end;local a0=S:FindFirstChild("HumanoidRootPart")local a1=S:FindFirstChildOfClass("Humanoid")if not a0 or not a1 then return end;local a2=t.Points[t.CurrentPoint]if not a2 then return end;local a3=math.max(1,tonumber(r.CircularFlightSpeed)or 60)local a4=a0.Position;local a5=a2-a4;local a6=a5.Magnitude;if a6<=Z then t.CurrentPoint=t.CurrentPoint%#t.Points+1;a2=t.Points[t.CurrentPoint]end;if a5.Magnitude>1e-6 then local a7=math.min(a3*_,a5.Magnitude)local a8=a4+a5.Unit*a7;local a9=a2;if(a9-a8).Magnitude<1e-6 then a9=a8+Vector3.new(0,0,-1)end;a0.CFrame=CFrame.new(a8,a9)a0.AssemblyLinearVelocity=Vector3.zero;a0.AssemblyAngularVelocity=Vector3.zero;a1.AutoRotate=false end end)K:Set("Circular flight: Enabled")else t.Active=false;r.CircularFlightEnabled=false;if t.Conn then t.Conn:Disconnect()t.Conn=nil end;local S=k.Character;local a1=S and S:FindFirstChildOfClass("Humanoid")if a1 then a1.AutoRotate=true end;K:Set("Circular flight: Disabled")end end;local function aa(Y)r.Invincible=Y;if k.Character then local a1=k.Character:FindFirstChild("Humanoid")if a1 then if Y then a1:SetAttribute("Invincible",true)for U,q in ipairs(k.Character:GetDescendants())do if q:IsA("BasePart")then q.CanCollide=false;q.Transparency=0.5 end end else a1:SetAttribute("Invincible",false)for U,q in ipairs(k.Character:GetDescendants())do if q:IsA("BasePart")then q.CanCollide=true;q.Transparency=0.9 end end end end end end;local ab={Active=false,Conn=nil,Offset=Vector3.new(0,6,0)}local function ac(Y)if Y then if ab.Active then return end;ab.Active=true;if ab.Conn then ab.Conn:Disconnect()ab.Conn=nil end;ab.Conn=l.Heartbeat:Connect(function()if not ab.Active then return end;local q=r.HealPart;local ad=k.Character;local ae=ad and ad:FindFirstChild("HumanoidRootPart")if not q or not q.Parent or not ad or not ae then return end;local af=q.CFrame+ab.Offset;local ag=af.Position;ae.CFrame=CFrame.new(ae.Position:Lerp(ag,0.5),ag-Vector3.new(0,10,0))ae.AssemblyLinearVelocity=Vector3.zero;ae.AssemblyAngularVelocity=Vector3.zero end)else ab.Active=false;if ab.Conn then ab.Conn:Disconnect()ab.Conn=nil end end end;local function ah()if r.HealPart and r.HealPart.Parent then r.HealPart:Destroy()end;local q=Instance.new("Part")q.Name="AutoHealPart"q.Size=Vector3.new(50,50,50)q.CFrame=CFrame.new(-23.3440018,350.940002,0.342000008,0,-1,0,1,0,-0,0,0,1)q.Anchored=true;q.CanCollide=true;q.Transparency=0.8;q.Material=Enum.Material.Neon;q.Color=Color3.fromRGB(0,255,0)q.Parent=n;r.HealPart=q end;local function ai()if r.HealPart and r.HealPart.Parent then r.HealPart:Destroy()r.HealPart=nil end end;local function aj()if not r.HealPart or not r.HealPart.Parent then ah()end;local S=k.Character;if not S then return false end;local a0=S:FindFirstChild("HumanoidRootPart")local a1=S:FindFirstChild("Humanoid")if not a0 or not a1 then return false end;local af=r.HealPart.CFrame+ab.Offset;a0.CFrame=CFrame.new(af.Position,af.Position-Vector3.new(0,10,0))ac(true)a1.WalkSpeed=16;return true end;local function ak()if not r.AutoHealEnabled then return false end;local S=k.Character;if not S then return false end;local a1=S:FindFirstChild("Humanoid")if not a1 then return false end;if S.Parent==n then return false end;if a1.Health<=r.LowHpThreshold then aj()return true end;return false end;local function al(V)local am=V and V:FindFirstChild("Owner")return am and am:IsA("ObjectValue")end;local function an()local ao,e=pcall(function()m:WaitForChild("LMB"):FireServer()end)if ao then r.TotalAttacks=r.TotalAttacks+1;D:Set("Attacks: "..r.TotalAttacks)return true else warn("Attack error:",e)return false end end;local ap={Enabled=false,Original={},Atmosphere=nil,Bloom=nil,ColorCorrection=nil}local function aq()ap.Original={FogStart=o.FogStart,FogEnd=o.FogEnd,Brightness=o.Brightness,Ambient=o.Ambient,OutdoorAmbient=o.OutdoorAmbient,ClockTime=o.ClockTime,ExposureCompensation=o.ExposureCompensation,ColorShift_Top=o.ColorShift_Top,ColorShift_Bottom=o.ColorShift_Bottom}ap.Atmosphere=o:FindFirstChildOfClass("Atmosphere")ap.Bloom=o:FindFirstChildOfClass("BloomEffect")ap.ColorCorrection=o:FindFirstChildOfClass("ColorCorrectionEffect")end;local function ar()if not next(ap.Original)then aq()end;o.FogStart=0;o.FogEnd=100000;o.Brightness=2.25;o.ClockTime=13.5;o.ExposureCompensation=0.1;o.Ambient=Color3.fromRGB(120,120,120)o.OutdoorAmbient=Color3.fromRGB(140,140,140)o.ColorShift_Top=Color3.fromRGB(255,255,255)o.ColorShift_Bottom=Color3.fromRGB(255,255,255)local as=ap.Atmosphere or Instance.new("Atmosphere")as.Density=0.03;as.Offset=0;as.Color=Color3.fromRGB(200,210,220)as.Decay=Color3.fromRGB(210,220,230)as.Glare=0;as.Haze=0.1;if not as.Parent then as.Parent=o end;ap.Atmosphere=as;local at=ap.Bloom or Instance.new("BloomEffect")at.Intensity=0.1;at.Threshold=1;at.Size=12;if not at.Parent then at.Parent=o end;ap.Bloom=at;local au=ap.ColorCorrection or Instance.new("ColorCorrectionEffect")au.Brightness=0.05;au.Contrast=0.05;au.Saturation=0.05;au.TintColor=Color3.fromRGB(255,255,255)if not au.Parent then au.Parent=o end;ap.ColorCorrection=au end;local function av()if not next(ap.Original)then return end;o.FogStart=ap.Original.FogStart;o.FogEnd=ap.Original.FogEnd;o.Brightness=ap.Original.Brightness;o.ClockTime=ap.Original.ClockTime;o.ExposureCompensation=ap.Original.ExposureCompensation;o.Ambient=ap.Original.Ambient;o.OutdoorAmbient=ap.Original.OutdoorAmbient;o.ColorShift_Top=ap.Original.ColorShift_Top;o.ColorShift_Bottom=ap.Original.ColorShift_Bottom;if ap.Atmosphere and ap.Atmosphere.Parent then ap.Atmosphere:Destroy()end;if ap.Bloom and ap.Bloom.Parent then ap.Bloom:Destroy()end;if ap.ColorCorrection and ap.ColorCorrection.Parent then ap.ColorCorrection:Destroy()end;ap.Atmosphere,ap.Bloom,ap.ColorCorrection=nil,nil,nil end;local function aw(ax)ap.Enabled=ax;if ax then ar()else av()end end;local ay={PlayersEnabled=false,TargetsEnabled=false,SpecialEnabled=false,UpdateConn=nil,LivingAddedConn=nil,LivingRemovedConn=nil,SelfHealConn=nil,Tracked={players={},targets={},special={}},LastUpdate=0}local function az(V)local aA=V and V:FindFirstChild("Humanoid")local ae=V and V:FindFirstChild("HumanoidRootPart")return aA and ae and aA.Health>0 end;local function aB(V)if not V or not V:IsA("Model")then return false end;if not az(V)then return false end;if V.Name:find("VillanArc")then return false end;if V==k.Character then return false end;if V:FindFirstChild("AIFolders")or V:FindFirstChild("AI")or V:FindFirstChild("AIScript")then return true end;if V:FindFirstChildOfClass("Animator")or V:FindFirstChild("Animate")then return true end;return false end;local function aC(V)if not V or not V:IsA("Model")then return false end;if not az(V)then return false end;if V:FindFirstChild("AIFolders")or V:FindFirstChild("AI")or V:FindFirstChild("AIScript")then return false end;local aD=j:GetPlayerFromCharacter(V)if not aD then return false end;if aD==k then return false end;return true end;local function aE(V)if not V or not V:IsA("Model")then return false end;if V.Name=="Clock Spider"then return true end;local aF=V.Name:lower()return aF:find("drive")~=nil end;local function aG(V)local aH=V:FindFirstChild("Head")if aH and aH:IsA("BasePart")then return aH end;local ae=V:FindFirstChild("HumanoidRootPart")if ae and ae:IsA("BasePart")then return ae end;for U,q in ipairs(V:GetDescendants())do if q:IsA("BasePart")then return q end end;return nil end;local function aI(V)local aJ=Vector3.new(0,0,0)local ao=pcall(function()local U,aK=V:GetBoundingBox()aJ=aK end)if not ao then pcall(function()aJ=V:GetExtentsSize()end)end;local aL=aJ and aJ.Y or 6;return Vector3.new(0,math.clamp(aL+2,4,20),0)end;local function aM(V,aN)local aO=V:FindFirstChild("ESP_Highlight")if not aO then aO=Instance.new("Highlight")aO.Name="ESP_Highlight"aO.DepthMode=Enum.HighlightDepthMode.AlwaysOnTop;aO.FillTransparency=0.85;aO.OutlineTransparency=0;aO.Parent=V end;if aN=="player"then aO.FillColor=Color3.fromRGB(100,255,140)aO.OutlineColor=Color3.fromRGB(0,200,80)elseif aN=="special"then aO.FillColor=Color3.fromRGB(255,255,100)aO.OutlineColor=Color3.fromRGB(255,200,0)else aO.FillColor=Color3.fromRGB(255,100,100)aO.OutlineColor=Color3.fromRGB(255,0,0)end;return aO end;local function aP(V,aN)local aQ=aG(V)if not aQ then return nil end;local aR=nil;for U,aS in ipairs(V:GetDescendants())do if aS:IsA("BillboardGui")and aS.Name=="ESP_Billboard"then if aS.Adornee and aS.Adornee~=aQ then aS:Destroy()else aR=aS end end end;local aT=aR;if not aT or not aT.Parent or not aT:IsDescendantOf(game)then aT=Instance.new("BillboardGui")aT.Name="ESP_Billboard"aT.AlwaysOnTop=true;aT.Size=UDim2.new(0,240,0,54)aT.StudsOffset=aI(V)aT.MaxDistance=10000;aT.Adornee=aQ;aT.Parent=aQ;local aU=Instance.new("TextLabel")aU.Name="ESP_Text"aU.BackgroundTransparency=1;aU.Size=UDim2.new(1,0,1,0)aU.Font=Enum.Font.SourceSansBold;aU.TextScaled=true;if aN=="player"then aU.TextColor3=Color3.fromRGB(0,255,120)elseif aN=="special"then aU.TextColor3=Color3.fromRGB(255,255,0)else aU.TextColor3=Color3.fromRGB(255,80,80)end;aU.TextStrokeTransparency=0.5;aU.TextStrokeColor3=Color3.new(0,0,0)aU.Parent=aT end;return aT end;local function aV(V,aN)if aN=="special"then local aW=V.Name;local aQ=aG(V)if not aQ then return end;local aT=aQ:FindFirstChild("ESP_Billboard")if not aT then aT=aP(V,aN)end;if not aT then return end;if aT.Adornee~=aQ then aT.Adornee=aQ;aT.Parent=aQ end;local aU=aT:FindFirstChild("ESP_Text")if not aU then aT:Destroy()aT=aP(V,aN)if not aT then return end;aU=aT:FindFirstChild("ESP_Text")if not aU then return end end;aU.Text=aW;aT.StudsOffset=aI(V)else if not az(V)then return end;local aA=V:FindFirstChild("Humanoid")local aW=V.Name;local aX=""if aA then aX=" | HP: "..math.max(0,math.floor(aA.Health)).."/"..math.floor(aA.MaxHealth or 0)end;local aQ=aG(V)if not aQ then return end;local aT=aQ:FindFirstChild("ESP_Billboard")if not aT then aT=aP(V,aN)end;if not aT then return end;if aT.Adornee~=aQ then aT.Adornee=aQ;aT.Parent=aQ end;local aU=aT:FindFirstChild("ESP_Text")if not aU then aT:Destroy()aT=aP(V,aN)if not aT then return end;aU=aT:FindFirstChild("ESP_Text")if not aU then return end end;aU.Text=aW..aX;aT.StudsOffset=aI(V)end end;local function aY(V,aN)if aN=="special"or az(V)then aM(V,aN)aP(V,aN)aV(V,aN)end end;local function aZ(V)if not V then return end;local aO=V:FindFirstChild("ESP_Highlight")if aO then aO:Destroy()end;for U,q in ipairs(V:GetDescendants())do if q:IsA("BillboardGui")and q.Name=="ESP_Billboard"then q:Destroy()end end end;local function a_(aN)for V in pairs(ay.Tracked[aN])do aZ(V)end;ay.Tracked[aN]={}end;local function b0()if ay.UpdateConn then return end;ay.UpdateConn=l.Heartbeat:Connect(function()if time()-(ay.LastUpdate or 0)<0.2 then return end;ay.LastUpdate=time()if ay.PlayersEnabled then for V in pairs(ay.Tracked.players)do if V and V.Parent and aC(V)then aV(V,"player")else ay.Tracked.players[V]=nil;aZ(V)end end end;if ay.TargetsEnabled then for V in pairs(ay.Tracked.targets)do if V and V.Parent and aB(V)then aV(V,"target")else ay.Tracked.targets[V]=nil;aZ(V)end end end;if ay.SpecialEnabled then for V in pairs(ay.Tracked.special)do if V and V.Parent and aE(V)then aV(V,"special")else ay.Tracked.special[V]=nil;aZ(V)end end end end)end;local function b1()if ay.UpdateConn then ay.UpdateConn:Disconnect()ay.UpdateConn=nil end end;local function b2()if ay.SelfHealConn then return end;ay.SelfHealConn=l.Stepped:Connect(function()if not(ay.PlayersEnabled or ay.TargetsEnabled or ay.SpecialEnabled)then return end;if ay.PlayersEnabled then for V in pairs(ay.Tracked.players)do if V and V.Parent and aC(V)then aP(V,"player")end end end;if ay.TargetsEnabled then for V in pairs(ay.Tracked.targets)do if V and V.Parent and aB(V)then aP(V,"target")end end end;if ay.SpecialEnabled then for V in pairs(ay.Tracked.special)do if V and V.Parent and aE(V)then aP(V,"special")end end end end)end;local function b3()if ay.SelfHealConn then ay.SelfHealConn:Disconnect()ay.SelfHealConn=nil end end;local function b4()if ay.LivingAddedConn or ay.LivingRemovedConn then return end;local T=n:FindFirstChild("Living")if not T then return end;ay.LivingAddedConn=T.ChildAdded:Connect(function(V)task.defer(function()if ay.PlayersEnabled and aC(V)then if not ay.Tracked.players[V]then aY(V,"player")ay.Tracked.players[V]=true end end;if ay.TargetsEnabled and aB(V)then if not ay.Tracked.targets[V]then aY(V,"target")ay.Tracked.targets[V]=true end end end)end)ay.LivingRemovedConn=T.ChildRemoved:Connect(function(V)if ay.Tracked.players[V]then ay.Tracked.players[V]=nil;aZ(V)end;if ay.Tracked.targets[V]then ay.Tracked.targets[V]=nil;aZ(V)end end)end;local function b5()if ay.LivingAddedConn then ay.LivingAddedConn:Disconnect()ay.LivingAddedConn=nil end;if ay.LivingRemovedConn then ay.LivingRemovedConn:Disconnect()ay.LivingRemovedConn=nil end end;local function b6(aN)local T=n:FindFirstChild("Living")if not T then return end;for U,V in ipairs(T:GetChildren())do if aN=="players"and ay.PlayersEnabled and aC(V)then if not ay.Tracked.players[V]then aY(V,"player")ay.Tracked.players[V]=true end elseif aN=="targets"and ay.TargetsEnabled and aB(V)then if not ay.Tracked.targets[V]then aY(V,"target")ay.Tracked.targets[V]=true end end end end;local function b7()if not ay.SpecialEnabled then return end;for U,V in ipairs(n:GetChildren())do if aE(V)then if not ay.Tracked.special[V]then aY(V,"special")ay.Tracked.special[V]=true end end end end;local function b8()if ay.PlayersEnabled then return end;ay.PlayersEnabled=true;b4()b6("players")b0()b2()end;local function b9()if not ay.PlayersEnabled then return end;ay.PlayersEnabled=false;a_("players")if not ay.TargetsEnabled and not ay.SpecialEnabled then b5()b1()b3()end end;local function ba()if ay.TargetsEnabled then return end;ay.TargetsEnabled=true;b4()b6("targets")b0()b2()end;local function bb()if not ay.TargetsEnabled then return end;ay.TargetsEnabled=false;a_("targets")if not ay.PlayersEnabled and not ay.SpecialEnabled then b5()b1()b3()end end;local function bc()if ay.SpecialEnabled then return end;ay.SpecialEnabled=true;b7()b0()b2()end;local function bd()if not ay.SpecialEnabled then return end;ay.SpecialEnabled=false;a_("special")if not ay.PlayersEnabled and not ay.TargetsEnabled then b1()b3()end end;local be={NamesSet={},Options={},Dropdown=nil}local function bf()local T=n:FindFirstChild("Living")if not T then return{}end;local bg={}for U,V in ipairs(T:GetChildren())do if aB(V)then bg[V.Name]=true end end;local bh={}for aF in pairs(bg)do table.insert(bh,aF)end;table.sort(bh)return bh end;local function bi()be.Options=bf()if be.Dropdown then be.Dropdown:Refresh(be.Options)local bj={}for U,aF in ipairs(be.Options)do if be.NamesSet[aF]then table.insert(bj,aF)end end;if#bj>0 then be.Dropdown:Set(bj)end end end;local function bk(bl)be.NamesSet={}for U,aF in ipairs(bl)do be.NamesSet[aF]=true end end;local function bm()local T=workspace:FindFirstChild("Living")if not T then return nil end;local bn={}local S=k.Character;local bo=S and S:FindFirstChild("HumanoidRootPart")local bp=nil;local bq=n:FindFirstChild("Core")if bq then local br=bq.PrimaryPart;if not br then pcall(function()bq.PrimaryPart=bq:FindFirstChild("HumanoidRootPart")end)br=bq.PrimaryPart end;if br then bp=br.Position else local bs=bq:GetPivot()bp=bs and bs.Position or nil end end;local bt=nil;for U,V in ipairs(T:GetChildren())do if V.Name=="Transmitter toilet"and aB(V)and not be.NamesSet[V.Name]and not al(V)then local a1=V:FindFirstChild("Humanoid")local ae=V:FindFirstChild("HumanoidRootPart")if a1 and ae and a1.Health>0 then if a1.MaxHealth<=(r.MaxHpLimit or 300)then bt=V;break end end end end;if bt then return bt end;for U,V in ipairs(T:GetChildren())do if aB(V)and not be.NamesSet[V.Name]and not al(V)then local a1=V:FindFirstChild("Humanoid")local ae=V:FindFirstChild("HumanoidRootPart")if a1 and ae and a1.Health>0 then if a1.MaxHealth<=(r.MaxHpLimit or 300)then local bu=bo and(bo.Position-ae.Position).Magnitude or math.huge;local bv=bp and(bp-ae.Position).Magnitude or math.huge;table.insert(bn,{model=V,health=a1.Health,distanceToMe=bu,distanceToCore=bv})end end end end;if#bn==0 then return nil end;if r.TargetPriority=="LowestHP"then table.sort(bn,function(bw,bx)return bw.health<bx.health end)elseif r.TargetPriority=="HighestHP"then table.sort(bn,function(bw,bx)return bw.health>bx.health end)elseif r.TargetPriority=="Nearest"then table.sort(bn,function(bw,bx)return bw.distanceToMe<bx.distanceToMe end)elseif r.TargetPriority=="NearestToCore"then table.sort(bn,function(bw,bx)return bw.distanceToCore<bx.distanceToCore end)else table.sort(bn,function(bw,bx)return bw.health<bx.health end)end;return bn[1].model end;local function by(bz)if not bz or not bz.Parent then return false end;local S=k.Character;if not S then return false end;local a1=S:FindFirstChild("Humanoid")local a0=S:FindFirstChild("HumanoidRootPart")if not a1 or not a0 then return false end;aa(true)a1.AutoRotate=false;a1.WalkSpeed=r.MoveSpeed;local bA=time()local bB=30;local bC=-2;local bD=0.45;while r.Active and time()-bA<bB do if not bz.Parent then break end;local bE=bz:FindFirstChild("Humanoid")local bF=bz:FindFirstChild("HumanoidRootPart")if not bE or not bF or bE.Health<=0 then break end;if al(bz)then break end;if ak()then while r.Active and ab.Active do task.wait(0.2)end;if not r.Active then break end end;local bG=tonumber(r.AttackHeight)or 10;local bH=bF.Position+Vector3.new(0,bG,0)+bF.CFrame.LookVector*bC;local a8=a0.Position:Lerp(bH,bD)a0.CFrame=CFrame.new(a8,bF.Position)if time()-r.AttackCooldown>=r.AttackSpeed then an()r.AttackCooldown=time()end;a0.AssemblyLinearVelocity=a0.AssemblyLinearVelocity*0.25;a0.AssemblyAngularVelocity=Vector3.zero;task.wait(0.05)end;a1.AutoRotate=true;aa(false)a1.WalkSpeed=16;return true end;local function bI()while r.Active do if R()then if ak()then while r.Active and ab.Active do task.wait(0.2)end;if not r.Active then break end end;local bz=bm()if bz then r.NoTargetTime=0;r.CurrentTarget=bz;F:Set("Target: "..bz.Name)if by(bz)then task.wait(0.25)else task.wait(0.5)end else if r.NoTargetTime==0 then r.NoTargetTime=time()end;task.wait(1)end else task.wait(1)end end;r.NoTargetTime=0 end;local bJ={TargetPos=Vector3.new(43.973999,16,-59.1829987),Matrix={1,0,0,0,1,0,0,0,1},PosEps=0.1,MatEps=1e-3,LastAction=0}local function bK(bs)local bL,aL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV=bs:GetComponents()if(Vector3.new(bL,aL,bM)-bJ.TargetPos).Magnitude>bJ.PosEps then return false end;local bW=bJ.Matrix;local function bX(bw,bx)return math.abs(bw-bx)<bJ.MatEps end;return bX(bN,bW[1])and bX(bO,bW[2])and bX(bP,bW[3])and bX(bQ,bW[4])and bX(bR,bW[5])and bX(bS,bW[6])and bX(bT,bW[7])and bX(bU,bW[8])and bX(bV,bW[9])end;local function bY()local ad=k.Character;local ae=ad and ad:FindFirstChild("HumanoidRootPart")if not ae then return false end;local bZ=workspace:FindFirstChild("HelicopterShop")if not bZ or not bZ:IsA("Model")then return false end;local b_=bZ.WorldPivot or bZ:GetPivot()if bK(b_)then ae.CFrame=b_+Vector3.new(0,5,0)return true end;return false end;local function c0()local bZ=workspace:FindFirstChild("HelicopterShop")if not bZ or not bZ:IsA("Model")then return false end;local b_=bZ.WorldPivot or bZ:GetPivot()if bK(b_)then local c1=m:WaitForChild("ShopSystem",5)if c1 then local c2={[1]="Buy",[2]="FillHP"}pcall(function()c1:FireServer(unpack(c2))end)ac(false)bJ.LastAction=time()return true end end;return false end;local c3;if not c3 then c3=l.Heartbeat:Connect(function()if not W()then return end;local bZ=workspace:FindFirstChild("HelicopterShop")if not bZ then return end;local b_=bZ.WorldPivot or bZ:GetPivot()if bK(b_)and time()-bJ.LastAction>4 then if r.AutoBuyHealth then c0()bJ.LastAction=time()end end end)end;local c4={Active=false,Conn=nil}local function c5()if c4.Active then return end;c4.Active=true;s.WasEnabled=r.AutoHealEnabled;r.AutoHealEnabled=false;ac(false)c4.Conn=l.Heartbeat:Connect(function()if not r.AutoVoteEnabled then return end;local c6=k:FindFirstChild("PlayerGui")if not c6 then return end;local c7=c6:FindFirstChild("OpenVoteUI")if c7 and c7:IsA("ScreenGui")and c7.Enabled then local c8=m:WaitForChild("Vote",5)if c8 then local c2={[1]=r.VoteMode}pcall(function()c8:FireServer(unpack(c2))end)task.spawn(function()task.wait(0.5)local c9=n:FindFirstChild("AutoReady")if c9 then local S=k.Character;if S then local a0=S:FindFirstChild("HumanoidRootPart")if a0 then a0.CFrame=c9.CFrame+Vector3.new(0,5,0)end end end end)end end end)end;local function ca()if not c4.Active then return end;c4.Active=false;if c4.Conn then c4.Conn:Disconnect()c4.Conn=nil end;if s.WasEnabled then r.AutoHealEnabled=true end end;local cb={version=0}v:CreateButton({Name="Infinite Yield",Callback=function()loadstring(game:HttpGet('https://raw.githubusercontent.com/DarkNetworks/Infinite-Yield/main/latest.lua'))()end})v:CreateButton({Name="Anti-AFK",Callback=function()task.wait(0.5)local cc=Instance.new("ScreenGui")local cd=Instance.new("TextLabel")local ce=Instance.new("Frame")local cf=Instance.new("TextLabel")local cg=Instance.new("TextLabel")cc.Parent=game.CoreGui;cc.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;cd.Parent=cc;cd.Active=true;cd.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)cd.Draggable=true;cd.Position=UDim2.new(0.698610067,0,0.098096624,0)cd.Size=UDim2.new(0,370,0,52)cd.Font=Enum.Font.SourceSansSemibold;cd.Text="Anti AFK Script"cd.TextColor3=Color3.new(0,1,1)cd.TextSize=22;ce.Parent=cd;ce.BackgroundColor3=Color3.new(0.196078,0.196078,0.196078)ce.Position=UDim2.new(0,0,1.0192306,0)ce.Size=UDim2.new(0,370,0,107)cf.Parent=ce;cf.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)cf.Position=UDim2.new(0,0,0.800455689,0)cf.Size=UDim2.new(0,370,0,21)cf.Font=Enum.Font.Arial;cf.Text="Made by Dynamic. (please subscribe)"cf.TextColor3=Color3.new(0,1,1)cf.TextSize=20;cg.Parent=ce;cg.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)cg.Position=UDim2.new(0,0,0.158377,0)cg.Size=UDim2.new(0,370,0,44)cg.Font=Enum.Font.ArialBold;cg.Text="Status: Active"cg.TextColor3=Color3.new(0,1,1)cg.TextSize=20;local ch=game:GetService("VirtualUser")j.LocalPlayer.Idled:Connect(function()ch:CaptureController()ch:ClickButton2(Vector2.new())cg.Text="Roblox Tried to kick you but we didnt let them kick you :D"task.wait(2)cg.Text="Status : Active"end)end})w:CreateToggle({Name="Auto Farm",CurrentValue=false,Flag="AutoFarm",Callback=function(ci)r.Active=ci;if ci then E:Set("Status: Active")cb.version=cb.version+1;local cj=cb.version;task.spawn(function()local ck=m:WaitForChild(r.RadiantEventName,5)while r.Active and cb.version==cj do if ck and ck.FireServer then pcall(function()ck:FireServer()end)end;for U=1,50 do if not r.Active or cb.version~=cj then break end;task.wait(0.2)end end end)bI()else E:Set("Status: Inactive")aa(false)ac(false)cb.version=cb.version+1 end end})w:CreateToggle({Name="Circular Flight",CurrentValue=false,Flag="CircularFlight",Callback=function(ci)X(ci)end})w:CreateToggle({Name="Auto Vote",CurrentValue=false,Flag="AutoVote",Callback=function(ci)r.AutoVoteEnabled=ci;if ci then c5()else ca()end end})x:CreateToggle({Name="Auto Buy Health",CurrentValue=false,Flag="AutoBuyHealth",Callback=function(ci)r.AutoBuyHealth=ci end})x:CreateToggle({Name="Auto Teleport to Shop",CurrentValue=false,Flag="AutoTeleportToShop",Callback=function(ci)r.AutoTeleportToShop=ci;if ci then bY()end end})y:CreateToggle({Name="ESP on Players",CurrentValue=false,Flag="ESPPlayers",Callback=function(ci)if ci then b8()else b9()end end})y:CreateToggle({Name="ESP on Targets",CurrentValue=false,Flag="ESPTargets",Callback=function(ci)if ci then ba()else bb()end end})y:CreateToggle({Name="ESP on Special",CurrentValue=false,Flag="ESPSpecial",Callback=function(ci)if ci then bc()else bd()end end})y:CreateButton({Name="Clear All ESP",Callback=function()a_("players")a_("targets")a_("special")end})z:CreateToggle({Name="Clear Scene",CurrentValue=false,Flag="ClearVisuals",Callback=function(ci)aw(ci)end})A:CreateButton({Name="Teleport to Arena",Callback=function()local S=k.Character;if not S then return end;local a0=S:FindFirstChild("HumanoidRootPart")if not a0 then return end;a0.CFrame=CFrame.new(-23.3439998626709,30.940000534057617,0.34200000762939453)end})A:CreateButton({Name="Teleport to Lobby",Callback=function()local S=k.Character;if not S then return end;local a0=S:FindFirstChild("HumanoidRootPart")if not a0 then return end;a0.CFrame=CFrame.new(610.3095092773438,-466.0824279785156,454.583740234375)end})L.AttackSpeedSlider=B:CreateSlider({Name="Attack Speed (sec)",Range={0.1,2},Increment=0.1,CurrentValue=0.5,Flag="AttackSpeed",Callback=function(ci)r.AttackSpeed=ci end})B:CreateInput({Name="Attack Speed (input)",CurrentValue=tostring(r.AttackSpeed),PlaceholderText="e.g. 0.5",RemoveTextAfterFocusLost=false,Flag="AttackSpeedInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(cm,0.1,2)r.AttackSpeed=cm;if L.AttackSpeedSlider and L.AttackSpeedSlider.Set then L.AttackSpeedSlider:Set(cm)end end end})L.MoveSpeedSlider=B:CreateSlider({Name="Move Speed",Range={20,1000},Increment=5,CurrentValue=50,Flag="MoveSpeed",Callback=function(ci)r.MoveSpeed=ci;local ad=k.Character;local aA=ad and ad:FindFirstChildOfClass("Humanoid")if aA then aA.WalkSpeed=ci end end})B:CreateInput({Name="Move Speed (input)",CurrentValue=tostring(r.MoveSpeed),PlaceholderText="e.g. 50",RemoveTextAfterFocusLost=false,Flag="MoveSpeedInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(cm,20,500)r.MoveSpeed=cm;if L.MoveSpeedSlider and L.MoveSpeedSlider.Set then L.MoveSpeedSlider:Set(cm)end;local ad=k.Character;local aA=ad and ad:FindFirstChildOfClass("Humanoid")if aA then aA.WalkSpeed=cm end end end})B:CreateSlider({Name="Flight Speed (studs/sec)",Range={10,20000},Increment=5,CurrentValue=60,Flag="CircularFlightSpeed",Callback=function(ci)r.CircularFlightSpeed=ci end})B:CreateInput({Name="Flight Speed (input)",CurrentValue=tostring(r.CircularFlightSpeed),PlaceholderText="e.g. 60",RemoveTextAfterFocusLost=false,Flag="CircularFlightSpeedInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(math.floor(cm),10,300)r.CircularFlightSpeed=cm end end})L.LowHpSlider=B:CreateSlider({Name="HP Threshold for Heal",Range={50,10000},Increment=50,CurrentValue=100,Flag="LowHpThreshold",Callback=function(ci)r.LowHpThreshold=math.floor(ci)end})B:CreateInput({Name="HP Threshold (input)",CurrentValue=tostring(r.LowHpThreshold),PlaceholderText="e.g. 100",RemoveTextAfterFocusLost=false,Flag="LowHpInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(math.floor(cm),50,10000)r.LowHpThreshold=cm;if L.LowHpSlider and L.LowHpSlider.Set then L.LowHpSlider:Set(cm)end end end})B:CreateToggle({Name="Auto Heal",CurrentValue=false,Flag="AutoHeal",Callback=function(ci)r.AutoHealEnabled=ci;if ci then I:Set("Auto-heal: Enabled")else I:Set("Auto-heal: Disabled")ac(false)end end})B:CreateInput({Name="Event Name",CurrentValue="",PlaceholderText="Enter event name",RemoveTextAfterFocusLost=false,Flag="RadiantEventName",Callback=function(cl)r.RadiantEventName=cl end})B:CreateDropdown({Name="Vote Mode",Options={"Zombie","Hell","BossRush","Normal","Christmas"},CurrentOption={"Zombie"},MultipleOptions=false,Flag="VoteMode",Callback=function(cn)local co=cn[1]or cn;r.VoteMode=co end})B:CreateDropdown({Name="Target Mode",Options={"zombie","normal"},CurrentOption={"zombie"},MultipleOptions=false,Flag="TargetMode",Callback=function(cn)local co=cn[1]or cn;if u[co]then r.CurrentMode=co;H:Set("Mode: "..u[co].name)end end})B:CreateButton({Name="Show Mode Targets",Callback=function()local cp=u[r.CurrentMode]if cp then O("Mode: "..cp.name,"Target selection: models in `Living` with AIFolders/AI/AIScript\n".."Max HP limit (slider): "..(r.MaxHpLimit or 0))end end})L.MaxHpSlider=B:CreateSlider({Name="Ignore by Max HP (>)",Range={200,100000},Increment=100,CurrentValue=r.MaxHpLimit,Flag="MaxHpLimit",Callback=function(ci)r.MaxHpLimit=math.floor(ci)end})B:CreateInput({Name="Max HP Limit (input)",CurrentValue=tostring(r.MaxHpLimit),PlaceholderText="e.g. 300",RemoveTextAfterFocusLost=false,Flag="MaxHpInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(math.floor(cm),200,100000)r.MaxHpLimit=cm;if L.MaxHpSlider and L.MaxHpSlider.Set then L.MaxHpSlider:Set(cm)end end end})B:CreateDropdown({Name="Target Priority",Options={"LowestHP","HighestHP","Nearest","NearestToCore"},CurrentOption={r.TargetPriority},MultipleOptions=false,Flag="TargetPriority",Callback=function(cn)local cq=cn[1]or cn;r.TargetPriority=cq end})L.AttackHeightSlider=B:CreateSlider({Name="Attack Height Above Target",Range={0,60},Increment=1,CurrentValue=r.AttackHeight,Flag="AttackHeight",Callback=function(ci)r.AttackHeight=math.floor(ci)end})B:CreateInput({Name="Attack Height (input)",CurrentValue=tostring(r.AttackHeight),PlaceholderText="e.g. 10",RemoveTextAfterFocusLost=false,Flag="AttackHeightInput",Callback=function(cl)local cm=tonumber(cl)if cm then cm=math.clamp(math.floor(cm),0,60)r.AttackHeight=cm;if L.AttackHeightSlider and L.AttackHeightSlider.Set then L.AttackHeightSlider:Set(cm)end end end})be.Dropdown=B:CreateDropdown({Name="Ignore Targets (select names)",Options={"Scanning..."},CurrentOption={},MultipleOptions=true,Flag="IgnoreTargets",Callback=function(cr)bk(cr)end})B:CreateButton({Name="Refresh Target List",Callback=function()bi()end})B:CreateButton({Name="Reset Ignore",Callback=function()bk({})if be.Dropdown then be.Dropdown:Set({})end end})local cs={Conn=nil}local function ct()local ad=k.Character;local aA=ad and ad:FindFirstChildOfClass("Humanoid")if aA and aA.WalkSpeed~=r.MoveSpeed then aA.WalkSpeed=r.MoveSpeed end end;if not cs.Conn then cs.Conn=l.Heartbeat:Connect(function()ct()end)end;k.CharacterAdded:Connect(function()task.wait(0.15)ct()end)task.defer(bi)
